<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="How hashmaps are implemented?"><title>Let's implement a hashtable</title>
<link rel=canonical href=https://ishankhare.dev/p/lets-implement-a-hashtable/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Let's implement a hashtable"><meta property='og:description' content="How hashmaps are implemented?"><meta property='og:url' content='https://ishankhare.dev/p/lets-implement-a-hashtable/'><meta property='og:site_name' content='Ishan Khare'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='golang'><meta property='article:tag' content='hashmaps'><meta property='article:tag' content='dictionaries'><meta property='article:tag' content='data-structures'><meta property='article:published_time' content='2019-03-08T00:00:00+00:00'><meta property='article:modified_time' content='2019-03-08T00:00:00+00:00'><meta property='og:image' content='https://ishankhare.dev/p/lets-implement-a-hashtable/beach.jpg'><meta name=twitter:site content="@https://twitter.com/ishankhare07"><meta name=twitter:creator content="@https://twitter.com/ishankhare07"><meta name=twitter:title content="Let's implement a hashtable"><meta name=twitter:description content="How hashmaps are implemented?"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://ishankhare.dev/p/lets-implement-a-hashtable/beach.jpg'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu8020bdaeac997584d241415dc4f6c363_232442_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üòé</span></figure><div class=site-meta><h1 class=site-name><a href=/>Ishan Khare</a></h1><h2 class=site-description>Senior Software Engineer | Cloud Native | kubernetes | go | AI</h2></div></header><ol class=menu-social><li><a href=https://github.com/ishankhare07 target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/ishankhare07 target=_blank title=Twitter rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#how-hashmaps-work>How hashmaps work?</a></li><li><a href=#the-building-blocks>The building blocks</a></li><li><a href=#the-array>The array</a><ol><li><a href=#creating-the-nodes-and-linking-with-array>Creating the nodes and linking with array</a></li><li><a href=#modulo-to-the-rescue>Modulo to the rescue</a></li><li><a href=#choosing-a-hash-algorithm>Choosing a hash algorithm</a></li><li><a href=#mapping-the-hash-to-our-array>Mapping the hash to our array</a></li></ol></li><li><a href=#insertion>Insertion</a><ol><li><a href=#fetch>Fetch</a></li><li><a href=#running>Running</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/lets-implement-a-hashtable/><img src=/p/lets-implement-a-hashtable/beach_hubcfc686359850358f8b4a845b0bcb2e4_1032253_800x0_resize_q75_box.jpg srcset="/p/lets-implement-a-hashtable/beach_hubcfc686359850358f8b4a845b0bcb2e4_1032253_800x0_resize_q75_box.jpg 800w, /p/lets-implement-a-hashtable/beach_hubcfc686359850358f8b4a845b0bcb2e4_1032253_1600x0_resize_q75_box.jpg 1600w" width=800 height=600 loading=lazy alt="Featured image of post Let's implement a hashtable"></a></div><div class=article-details><header class=article-category><a href=/categories/data-structures/>Data Structures</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/lets-implement-a-hashtable/>Let's implement a hashtable</a></h2><h3 class=article-subtitle>How hashmaps are implemented?</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 08, 2019</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>16 minute read</time></div></footer></div></header><section class=article-content><h2 id=how-hashmaps-work>How hashmaps work?</h2><p>Okay, so lets start with what hashmaps are?
Hashmaps or hashtables are known by different names in different languages.</p><ul><li>Python has dict/dictionaries</li><li>Ruby calls it Hash</li><li>Java has hashmap</li><li>C++ has unordered_map</li><li>Even Javascript has maps, which is how basically objects are implemented in javascript. (just look at JSON)</li></ul><p>What the last point says about hashmaps being used to implement objects in Javascript is also true in case of Python, Ruby and a few others.</p><p>So hashmaps/dicts/hashtables whatever you want to call them are basically key-value storage data structures. You pass in a value identified by a key, and you can get back the same value with that key‚Ää-‚Ääsimple as that.</p><hr><p>So lets try and get hands on with how it looks in code.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># add a key-value pair</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;ishan&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># lets see whats in there</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># {&#39;name&#39;: &#39;ishan&#39;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># add more key-value pairs</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>[</span><span class=s1>&#39;age&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>23</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>[</span><span class=s1>&#39;gender&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;male&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># {&#39;gender&#39;: &#39;male&#39;, &#39;age&#39;: 23, &#39;name&#39;: &#39;ishan&#39;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># note above that the keys are not in the same order as we entered them,</span>
</span></span><span class=line><span class=cl><span class=c1># this is because python&#39;s dictionaries are unordered</span>
</span></span><span class=line><span class=cl><span class=c1># see https://stackoverflow.com/a/15479974/2972348</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># get a specific value</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;ishan&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># let&#39;s update a value</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>[</span><span class=s1>&#39;age&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>24</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># {&#39;gender&#39;: &#39;male&#39;, &#39;age&#39;: 24, &#39;name&#39;: &#39;ishan&#39;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># let&#39;s delete some values</span>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>a</span><span class=p>[</span><span class=s1>&#39;age&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># {&#39;gender&#39;: &#39;male&#39;, &#39;name&#39;: &#39;ishan&#39;}</span>
</span></span></code></pre></td></tr></table></div></div><p>That gives us the list of basic operations on a dict:</p><ol><li>insert</li><li>fetch</li><li>delete</li></ol><p>The same can be shown with Javascript:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;ishan&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// { name: &#39;ishan&#39; }
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// or the other way
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=mi>24</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// { name: &#39;ishan&#39;, age: 24 }
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>.</span><span class=nx>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// ishan
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>delete</span> <span class=nx>a</span><span class=p>.</span><span class=nx>age</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// { name: &#39;ishan&#39; }
</span></span></span></code></pre></td></tr></table></div></div><p>Enough of examples now, lets get to see how these things work on the inside</p><hr><p>So, we will be implementing a simple hashtable in <a class=link href=https://golang.org/ target=_blank rel=noopener>Golang</a>. If you haven‚Äôt heard or written code in Go, and are skeptical about understanding the code that follows - worry not, Go has a syntax very similar to C and Javascript. And if you can code (in a language), you‚Äôre gonna do just fine!</p><hr><h2 id=the-building-blocks>The building blocks</h2><p>This image taken from wikipedia shows the basic structure of our hashtable. This will help us understand and break down the problem at hand better:</p><p><img src=/p/lets-implement-a-hashtable/Hash_table_3_1_1_0_1_0_0_SP.png width=315 height=230 srcset="/p/lets-implement-a-hashtable/Hash_table_3_1_1_0_1_0_0_SP_hueb6a3fcea91cedfbbb8a500cbdb5ceb4_3658_480x0_resize_box_3.png 480w, /p/lets-implement-a-hashtable/Hash_table_3_1_1_0_1_0_0_SP_hueb6a3fcea91cedfbbb8a500cbdb5ceb4_3658_1024x0_resize_box_3.png 1024w" loading=lazy alt="Hash Table" class=gallery-image data-flex-grow=136 data-flex-basis=328px></p><p>To summarize, we have:</p><ul><li>the hash function</li><li>the linear array that the hash function maps to</li><li>and the actual data nodes that hold our key-value pairs</li></ul><h2 id=the-array>The array</h2><p>So lets start with our <strong><em>linear array</em></strong> to begin with. So we basically need a statically allocated array of some size n. This will be the array holding the pointer to our actual key value pairs. This is how our basic array will look like:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>1 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>2 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>3 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>4 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>5 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>6 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>7 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>8 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>9 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>10|    |
</span></span><span class=line><span class=cl>  +----+
</span></span></code></pre></td></tr></table></div></div><p>Let us code this up in Go. To have a basic array inside our hashmap data type. This is going to be fairly easy to achieve.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>const</span> <span class=nx>MAP_SIZE</span> <span class=p>=</span> <span class=mi>50</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>HashMap</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>Data</span> <span class=p>[]</span><span class=o>*</span><span class=kt>int</span>	
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>NewDict</span><span class=p>()</span> <span class=o>*</span><span class=nx>HashMap</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>HashMap</span><span class=p>{}</span>	
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>a</span> <span class=o>:=</span> <span class=nf>NewDict</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The above code is explained below:</p><ol><li><p>We declare the current file as main package with package main.</p></li><li><p>We import a package called ‚Äúfmt‚Äù, we‚Äôll later use it to print things to terminal.</p></li><li><p>We declare a constant variable MAP_SIZE with value 50 . This will be the size of our linear array.</p><blockquote><p>For the sake of simplicity, we are assuming that we just have a fixed size array that we use for implementing our hashmap, and we don‚Äôt take resizing into account. Actual implementations do account for these things - which will be covered in a future blog post. For more info refer here.</p></blockquote></li><li><p>Next we create a function NewDict that creates this array for us and returns a pointer to it.</p></li></ol><p>This completes our bare-bones structure for the array itself. But we are presented with the next challenge. Which is, how to represent the key-value pairs that contain our actual data and link it with our array.</p><h3 id=creating-the-nodes-and-linking-with-array>Creating the nodes and linking with array</h3><p>There is one problem in the code presented above‚Ää‚Äî‚Ääwe have created an array of <strong><em>pointer to integer</em></strong> values. Basically the <code>Data []*int</code> on <strong>line8</strong>. This is wrong because we need to actually <strong>not</strong> point to integers but to <strong><em>some</em></strong> object that holds our key-value pairs. We don‚Äôt know what that object will be yet, but we know that it needs at least 2 fields‚Ää‚Äî‚Ääkey and value. So lets go ahead and create this new object‚Äôs structure in our code.</p><p>We add the following lines:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Node</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>key</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>value</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>next</span> <span class=o>*</span><span class=nx>Node</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>We create a structure to hold our key-value pairs and a <strong><em>pointer to a Node</em></strong> type. We will need this pointer later on in order to deal with hash conflicts. More on this later, for now just let it sit around there.</p><p>Now since we want every index of our array to point to these <strong><em>Node</em></strong> type, we should change the type of our data array.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>HashMap</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Data</span> <span class=p>[]</span><span class=o>*</span><span class=nx>Node</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>So at the end of these changes, this is how our code should look like:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>const</span> <span class=nx>MAP_SIZE</span> <span class=p>=</span> <span class=mi>50</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Node</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>key</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>value</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>next</span> <span class=o>*</span><span class=nx>Node</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>HashMap</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Data</span> <span class=p>[]</span><span class=o>*</span><span class=nx>Node</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>NewDict</span><span class=p>()</span> <span class=o>*</span><span class=nx>HashMap</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>&amp;</span><span class=nx>HashMap</span><span class=p>{</span> <span class=nx>Data</span><span class=p>:</span> <span class=nb>make</span><span class=p>([]</span><span class=o>*</span><span class=nx>Node</span><span class=p>,</span> <span class=nx>MAP_SIZE</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// we initialize our array with make(), see 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// https://golang.org/pkg/builtin/#make
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>a</span> <span class=o>:=</span> <span class=nf>NewDict</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;%q&#34;</span><span class=p>,</span> <span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>If you run this program right now, you should see something like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=o>&amp;</span><span class=p>{[&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=kc>nil</span><span class=p>&gt;]}</span>
</span></span></code></pre></td></tr></table></div></div><p>We have our hashmap object consisting of an <strong><em>array of 50 pointers</em></strong> each pointing to <code>&lt;nil></code> which is something equivalent to:</p><ul><li><code>NULL</code> in C.</li><li><code>null</code> in Java.</li><li><code>None</code> in Python.</li><li><code>undefined</code> in Javascript.</li></ul><p>This is just as expected, we haven‚Äôt inserted any value in the hash table so all pointers are pointing to <code>null</code>/<code>nil</code> . Next we have to think about inserting objects into our hashmap.</p><blockquote><p>Before we could even reach that, we need to find a way to convert our keys to corresponding indexes on the array.</p></blockquote><p>A typical implementation of hash maps relies on a good hash function. The job of a hash function is to convert the value passed to it (in our current case, a string) and return an integer value representing an index on the array. And this integer value <strong><em>has to be the same every time</em></strong>.</p><p>This means that if <code>hash("hello")</code> gives me <code>966170508347869221</code>, then every time I pass <code>"hello"</code> I should get the same <code>966170508347869221</code> as a return value.</p><blockquote><p>You can test the above mentioned code in the Python interpreter. Python has a builtin function <code>hash</code> that will return the hash value.</p></blockquote><p>But we cannot have index <code>966170508347869221</code> on our array. Currently we have only indexes <code>1-49</code> available. Hence we need to somehow bring it down to this range.</p><h3 id=modulo-to-the-rescue>Modulo to the rescue</h3><p>The simplest solution to this problem is using the modulo (<code>%</code>) operator. This operator gives us the remainder of the division performed. That is, if</p><p><code>966170508347869221 / 50 = 19323410166957384 + 21</code></p><p>then <code>966170508347869221 % 50 = 21</code>. The remainder.</p><p>But with this, we have another problem, there will be <em>keys</em> which will be mapped to the same index, hence we‚Äôll get a hash collision.</p><p>From this point on, we have 3 problems to solve at hand:</p><ol><li>How do you implement the hash function.</li><li>Make the hash value fall in range of our array.</li><li>How to manage hash collisions.</li></ol><blockquote><p>Let‚Äôs start with the hash generation function first</p></blockquote><h3 id=choosing-a-hash-algorithm>Choosing a hash algorithm</h3><p>Wikipedia has a list of many <strong><em>hash_functions</em></strong>. Which you can refer here <a class=link href=https://en.wikipedia.org/wiki/List_of_hash_functions target=_blank rel=noopener>https://en.wikipedia.org/wiki/List_of_hash_functions</a></p><p>For our purpose, we‚Äôll use a <a class=link href=https://en.wikipedia.org/wiki/Jenkins_hash_function target=_blank rel=noopener>Jenkins hash function</a>. It is a hash function that produces 32-bit hashes. The wikipedia article also has the implementation of the algorithm in C. We‚Äôll just translate that to our go code.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>hash</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=nx>hash</span> <span class=kt>uint32</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=p>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>ch</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>key</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>hash</span> <span class=o>+=</span> <span class=nb>uint32</span><span class=p>(</span><span class=nx>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>        <span class=nx>hash</span> <span class=p>^=</span> <span class=nx>hash</span> <span class=o>&gt;&gt;</span> <span class=mi>6</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=p>^=</span> <span class=nx>hash</span> <span class=o>&gt;&gt;</span> <span class=mi>11</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>15</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The above function uses a named-return‚Ää‚Äî‚Ääsee <a class=link href=https://golang.org/doc/effective_go.html#named-results target=_blank rel=noopener>https://golang.org/doc/effective_go.html#named-results</a></p><p>With this in place our code should look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>const</span> <span class=nx>MAP_SIZE</span> <span class=p>=</span> <span class=mi>50</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Node</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>key</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>value</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>next</span> <span class=o>*</span><span class=nx>Node</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>HashMap</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Data</span> <span class=p>[]</span><span class=o>*</span><span class=nx>Node</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>hash</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=nx>hash</span> <span class=kt>uint32</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=p>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>ch</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>key</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>hash</span> <span class=o>+=</span> <span class=nb>uint32</span><span class=p>(</span><span class=nx>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>        <span class=nx>hash</span> <span class=p>^=</span> <span class=nx>hash</span> <span class=o>&gt;&gt;</span> <span class=mi>6</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=p>^=</span> <span class=nx>hash</span> <span class=o>&gt;&gt;</span> <span class=mi>11</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>15</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>NewDict</span><span class=p>()</span> <span class=o>*</span><span class=nx>HashMap</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>&amp;</span><span class=nx>HashMap</span><span class=p>{</span> <span class=nx>Data</span><span class=p>:</span> <span class=nb>make</span><span class=p>([]</span><span class=o>*</span><span class=nx>Node</span><span class=p>,</span> <span class=nx>MAP_SIZE</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// we initialize our array with make(), see 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// https://golang.org/pkg/builtin/#make
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>a</span> <span class=o>:=</span> <span class=nf>NewDict</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=mapping-the-hash-to-our-array>Mapping the hash to our array</h3><p>Now that we have found our way to convert our keys to the hash value, we now need to make sure that this value falls within out array. For this we implement a <code>getIndex</code> function:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>getIndex</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=nx>index</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=nf>hash</span><span class=p>(</span><span class=nx>key</span><span class=p>))</span> <span class=o>%</span> <span class=nx>MAP_SIZE</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>With this in place, we have taken care of 2 of our 3 problem statements. The 3rd problem - managing collisions will be taken care of at a later stage. First we now need to focus on inserting the key-value pairs in our array. Lets write a function for that.</p><h2 id=insertion>Insertion</h2><p>The following function uses a <a class=link href=https://tour.golang.org/methods/4 target=_blank rel=noopener>receiver</a>, which are a powerful feature of go.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>h</span> <span class=o>*</span><span class=nx>HashMap</span><span class=p>)</span> <span class=nf>Insert</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>,</span> <span class=nx>value</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>index</span> <span class=o>:=</span> <span class=nf>getIndex</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// index is empty, go ahead and insert
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>Node</span><span class=p>{</span><span class=nx>key</span><span class=p>:</span> <span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>:</span> <span class=nx>value</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// there is a collision, get into linked-list mode
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>starting_node</span> <span class=o>:=</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>;</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=o>!=</span> <span class=kc>nil</span><span class=p>;</span> <span class=nx>starting_node</span> <span class=p>=</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>key</span> <span class=o>==</span> <span class=nx>key</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// the key exists, its a modifying operation
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>starting_node</span><span class=p>.</span><span class=nx>value</span> <span class=p>=</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>Node</span><span class=p>{</span><span class=nx>key</span><span class=p>:</span> <span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>:</span> <span class=nx>value</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The code is mostly self explanatory, but we&rsquo;ll briefly go over it anyway.</p><p>We first call <code>getIndex</code> with the <code>key</code>, which in-turns calls the <code>hash</code> function <strong><em>internally</em></strong>. This gives us the <code>index</code> on our array where we can store that key-value pair.</p><p>Next we check if the index is empty, if yes - then we simply store the K-V Pair there. This would look something like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>1 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>2 |    |
</span></span><span class=line><span class=cl>  +----+     +------------------+
</span></span><span class=line><span class=cl>3 | *  |----&gt;| Key: Value       |
</span></span><span class=line><span class=cl>  +----+     | Next: nil        |
</span></span><span class=line><span class=cl>4 |    |     +------------------+
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>5 |    |
</span></span><span class=line><span class=cl>  +----+     +------------------+
</span></span><span class=line><span class=cl>6 | *  |----&gt;| Key: Value       |
</span></span><span class=line><span class=cl>  +----+     | Next: nil        |
</span></span><span class=line><span class=cl>7 |    |     +------------------+
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>8 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>9 |    |
</span></span><span class=line><span class=cl>  +----+
</span></span><span class=line><span class=cl>10|    |
</span></span><span class=line><span class=cl>  +----+
</span></span></code></pre></td></tr></table></div></div><p>The above denotes the <code>if</code> part of our code - when there are no collisions. The else part of our code handles the collision.</p><p>There are a few different ways of handling collisions in hashmaps:</p><ol><li>Separate chaining with linked lists</li><li>Open addressing</li><li>Double Hashing</li></ol><p>The current code in the else block handles collisions with the <strong>Separate chaining with linked lists</strong> technique.</p><p>The linked list technique will result in a data structure very similar to the following image:</p><p><img src=/p/lets-implement-a-hashtable/Screen_Shot_2018-08-17_at_3.13.40_PM.jpg width=880 height=607 srcset="/p/lets-implement-a-hashtable/Screen_Shot_2018-08-17_at_3.13.40_PM_hu634d831fc721b954ebb6e648a06d6873_86430_480x0_resize_q75_box.jpg 480w, /p/lets-implement-a-hashtable/Screen_Shot_2018-08-17_at_3.13.40_PM_hu634d831fc721b954ebb6e648a06d6873_86430_1024x0_resize_q75_box.jpg 1024w" loading=lazy alt="Linked List" class=gallery-image data-flex-grow=144 data-flex-basis=347px></p><p>The two keys mapping to the same index - hence resulting in a collision are shown in red.</p><p>Next we&rsquo;ll talk about retrieving the value back from our hashtable</p><hr><h3 id=fetch>Fetch</h3><p>The next basic operation on hashmaps that we are going to look at is <code>Fetch</code>. Fetch is fairly simple and identical to insert - we pass our <code>key</code> as input to the hash function and get a hash value, which is then mapped to our array using the <code>getIndex</code> function.</p><p>We can then have 3 possible outcomes:</p><ol><li>We check if the <code>key</code> on that index is matching the we are looking for - if yes, then we have our match.</li><li>If the key does not match, we check if its next value is <strong>not</strong> <code>nil</code> - basically checking for collision and find that element in the <em>separate chained linked list</em></li><li>If both of the above conditions fail, we concur that the requested key does not exist in our hashtable.</li></ol><p>The code implementing the above explanation is shown below:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>h</span> <span class=o>*</span><span class=nx>HashMap</span><span class=p>)</span> <span class=nf>Get</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=kt>string</span><span class=p>,</span> <span class=kt>bool</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>index</span> <span class=o>:=</span> <span class=nf>getIndex</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// key is on this index, but might be somewhere in linked list
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>starting_node</span> <span class=o>:=</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>;</span> <span class=p>;</span> <span class=nx>starting_node</span> <span class=p>=</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>key</span> <span class=o>==</span> <span class=nx>key</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// key matched
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// key does not exists
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=s>&#34;&#34;</span><span class=p>,</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>The above code uses golang&rsquo;s <a class=link href=https://gobyexample.com/multiple-return-values target=_blank rel=noopener>multiple return values</a> feature.</p></blockquote><p>With this in place, we&rsquo;ll write the main function and test these operations that we have implemented.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span> <span class=o>:=</span> <span class=nf>NewDict</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>.</span><span class=nf>Insert</span><span class=p>(</span><span class=s>&#34;name&#34;</span><span class=p>,</span> <span class=s>&#34;ishan&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>.</span><span class=nf>Insert</span><span class=p>(</span><span class=s>&#34;gender&#34;</span><span class=p>,</span> <span class=s>&#34;male&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>.</span><span class=nf>Insert</span><span class=p>(</span><span class=s>&#34;city&#34;</span><span class=p>,</span> <span class=s>&#34;mumbai&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>.</span><span class=nf>Insert</span><span class=p>(</span><span class=s>&#34;lastname&#34;</span><span class=p>,</span> <span class=s>&#34;khare&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=nx>value</span><span class=p>,</span> <span class=nx>ok</span> <span class=o>:=</span> <span class=nx>a</span><span class=p>.</span><span class=nf>Get</span><span class=p>(</span><span class=s>&#34;name&#34;</span><span class=p>);</span> <span class=nx>ok</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Value did not match!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Also lets add a convenience function that allows us to print our hashmap in the desired format.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>h</span> <span class=o>*</span><span class=nx>HashMap</span><span class=p>)</span> <span class=nf>String</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>output</span> <span class=nx>bytes</span><span class=p>.</span><span class=nx>Buffer</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintln</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>output</span><span class=p>,</span> <span class=s>&#34;{&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>n</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>n</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintf</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>output</span><span class=p>,</span> <span class=s>&#34;\t%s: %s\n&#34;</span><span class=p>,</span> <span class=nx>n</span><span class=p>.</span><span class=nx>key</span><span class=p>,</span> <span class=nx>n</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=nx>node</span> <span class=o>:=</span> <span class=nx>n</span><span class=p>.</span><span class=nx>next</span><span class=p>;</span> <span class=nx>node</span> <span class=o>!=</span> <span class=kc>nil</span><span class=p>;</span> <span class=nx>node</span> <span class=p>=</span> <span class=nx>node</span><span class=p>.</span><span class=nx>next</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintf</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>output</span><span class=p>,</span> <span class=s>&#34;\t%s: %s\n&#34;</span><span class=p>,</span> <span class=nx>node</span><span class=p>.</span><span class=nx>key</span><span class=p>,</span> <span class=nx>node</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintln</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>output</span><span class=p>,</span> <span class=s>&#34;}&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>output</span><span class=p>.</span><span class=nf>String</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This overrides the default print output for our defined <code>HashMap</code> type.</p><blockquote><p>The above method is just a convenience method used for printing the entire hashmap in a pretty format. It is in no way required for proper functioning of the data structure</p></blockquote><p>To sum it up, here&rsquo;s our final code:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;bytes&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>const</span> <span class=nx>MAP_SIZE</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Node</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>key</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>  <span class=nx>value</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>  <span class=nx>next</span> <span class=o>*</span><span class=nx>Node</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>HashMap</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>Data</span> <span class=p>[]</span><span class=o>*</span><span class=nx>Node</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>NewDict</span><span class=p>()</span> <span class=o>*</span><span class=nx>HashMap</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=o>&amp;</span><span class=nx>HashMap</span><span class=p>{</span> <span class=nx>Data</span><span class=p>:</span> <span class=nb>make</span><span class=p>([]</span><span class=o>*</span><span class=nx>Node</span><span class=p>,</span> <span class=nx>MAP_SIZE</span><span class=p>)</span> <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>n</span> <span class=o>*</span><span class=nx>Node</span><span class=p>)</span> <span class=nf>String</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;&lt;Key: %s, Value: %s&gt;\n&#34;</span><span class=p>,</span> <span class=nx>n</span><span class=p>.</span><span class=nx>key</span><span class=p>,</span> <span class=nx>n</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>h</span> <span class=o>*</span><span class=nx>HashMap</span><span class=p>)</span> <span class=nf>String</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>output</span> <span class=nx>bytes</span><span class=p>.</span><span class=nx>Buffer</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintln</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>output</span><span class=p>,</span> <span class=s>&#34;{&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>n</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>n</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintf</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>output</span><span class=p>,</span> <span class=s>&#34;\t%s: %s\n&#34;</span><span class=p>,</span> <span class=nx>n</span><span class=p>.</span><span class=nx>key</span><span class=p>,</span> <span class=nx>n</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=nx>node</span> <span class=o>:=</span> <span class=nx>n</span><span class=p>.</span><span class=nx>next</span><span class=p>;</span> <span class=nx>node</span> <span class=o>!=</span> <span class=kc>nil</span><span class=p>;</span> <span class=nx>node</span> <span class=p>=</span> <span class=nx>node</span><span class=p>.</span><span class=nx>next</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintf</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>output</span><span class=p>,</span> <span class=s>&#34;\t%s: %s\n&#34;</span><span class=p>,</span> <span class=nx>node</span><span class=p>.</span><span class=nx>key</span><span class=p>,</span> <span class=nx>node</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Fprintln</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>output</span><span class=p>,</span> <span class=s>&#34;}&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>output</span><span class=p>.</span><span class=nf>String</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>h</span> <span class=o>*</span><span class=nx>HashMap</span><span class=p>)</span> <span class=nf>Insert</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>,</span> <span class=nx>value</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>index</span> <span class=o>:=</span> <span class=nf>getIndex</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// index is empty, go ahead and insert
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>Node</span><span class=p>{</span><span class=nx>key</span><span class=p>:</span> <span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>:</span> <span class=nx>value</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// there is a collision, get into linked-list mode
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>starting_node</span> <span class=o>:=</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>;</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=o>!=</span> <span class=kc>nil</span><span class=p>;</span> <span class=nx>starting_node</span> <span class=p>=</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>key</span> <span class=o>==</span> <span class=nx>key</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// the key exists, its a modifying operation
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>starting_node</span><span class=p>.</span><span class=nx>value</span> <span class=p>=</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>Node</span><span class=p>{</span><span class=nx>key</span><span class=p>:</span> <span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>:</span> <span class=nx>value</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>h</span> <span class=o>*</span><span class=nx>HashMap</span><span class=p>)</span> <span class=nf>Get</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=kt>string</span><span class=p>,</span> <span class=kt>bool</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>index</span> <span class=o>:=</span> <span class=nf>getIndex</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// key is on this index, but might be somewhere in linked list
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>starting_node</span> <span class=o>:=</span> <span class=nx>h</span><span class=p>.</span><span class=nx>Data</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>;</span> <span class=p>;</span> <span class=nx>starting_node</span> <span class=p>=</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>key</span> <span class=o>==</span> <span class=nx>key</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// key matched
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=nx>starting_node</span><span class=p>.</span><span class=nx>next</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// key does not exists
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=s>&#34;&#34;</span><span class=p>,</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>hash</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=nx>hash</span> <span class=kt>uint8</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// a jenkins one-at-a-time-hash
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// refer https://en.wikipedia.org/wiki/Jenkins_hash_function
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nx>hash</span> <span class=p>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>ch</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>key</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=o>+=</span> <span class=nb>uint8</span><span class=p>(</span><span class=nx>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>    <span class=nx>hash</span> <span class=p>^=</span> <span class=nx>hash</span> <span class=o>&gt;&gt;</span> <span class=mi>6</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>  <span class=nx>hash</span> <span class=p>^=</span> <span class=nx>hash</span> <span class=o>&gt;&gt;</span> <span class=mi>11</span>
</span></span><span class=line><span class=cl>  <span class=nx>hash</span> <span class=o>+=</span> <span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>15</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>getIndex</span><span class=p>(</span><span class=nx>key</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=nx>index</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=nf>hash</span><span class=p>(</span><span class=nx>key</span><span class=p>))</span> <span class=o>%</span> <span class=nx>MAP_SIZE</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span> <span class=o>:=</span> <span class=nf>NewDict</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>.</span><span class=nf>Insert</span><span class=p>(</span><span class=s>&#34;name&#34;</span><span class=p>,</span> <span class=s>&#34;ishan&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>.</span><span class=nf>Insert</span><span class=p>(</span><span class=s>&#34;gender&#34;</span><span class=p>,</span> <span class=s>&#34;male&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>.</span><span class=nf>Insert</span><span class=p>(</span><span class=s>&#34;city&#34;</span><span class=p>,</span> <span class=s>&#34;mumbai&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=p>.</span><span class=nf>Insert</span><span class=p>(</span><span class=s>&#34;lastname&#34;</span><span class=p>,</span> <span class=s>&#34;khare&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=nx>value</span><span class=p>,</span> <span class=nx>ok</span> <span class=o>:=</span> <span class=nx>a</span><span class=p>.</span><span class=nf>Get</span><span class=p>(</span><span class=s>&#34;name&#34;</span><span class=p>);</span> <span class=nx>ok</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Value did not match!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=running>Running</h3><p>On running the above code, we get the following output:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ishan
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>	city: mumbai
</span></span><span class=line><span class=cl>	name: ishan
</span></span><span class=line><span class=cl>	lastname: khare
</span></span><span class=line><span class=cl>	gender: male
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><ul><li>The first line is the value of our key <code>name</code>.</li><li>The output from 2nd line onwards is basically our custom-coded pretty-print function that outputs our entire hashmap.</li></ul><p>If you&rsquo;re interested in running/experimenting with this code, please feel free to fork the following repl. You can also play around on this webpage interactively.</p><iframe height=400px width=100% src="https://repl.it/@ishankhare07/hashmaps?lite=true" scrolling=no frameborder=no allowtransparency=true allowfullscreen sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><hr><p>Our current implementation only supports strings as keys. In the next blog post we&rsquo;ll talk about how we can make this a more generic implementation.</p><p>This post was originally published on my blog at ishankhare.com</p></section><footer class=article-footer><section class=article-tags><a href=/tags/golang/>Golang</a>
<a href=/tags/hashmaps/>Hashmaps</a>
<a href=/tags/dictionaries/>Dictionaries</a>
<a href=/tags/data-structures/>Data-Structures</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>MIT</span></section><section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Mar 08, 2019 00:00 UTC</span></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Ishan Khare</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>